sudo: false

language: scala

cache:
  directories:
    - $HOME/.ivy2/cache
    - $HOME/.sbt/boot/

scala:
   - 2.11.3

jdk:
  - oraclejdk8

install:
  - ./install_dependencies.sh

script:
  - PROJECT_ROOT=$(pwd)
    echo "\nStarting server test\n" &&
    cd $PROJECT_ROOT/server &&
    sbt clean coverage test &&
    sbt coverageAggregate &&
    echo "\nStarting client test\n" &&
    cd $PROJECT_ROOT/client &&
    grunt test

after_success:
  - cd $PROJECT_ROOT/server &&
    sbt coveralls
